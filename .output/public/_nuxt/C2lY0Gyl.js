import{_ as c}from"./B4a-eVb9.js";import{C as u,r as l,J as m,o as d,a1 as p,w as _,b as f,aq as v,ar as g,v as h}from"./CoVIpJ9u.js";import"./Dj1bnOkD.js";const w={class:"flex-1 flex justify-center items-center"},y={class:"flex-1 flex justify-center items-center"},I=u({__name:"Image",props:{flaffId:{type:String,required:!0},item:{type:Object,required:!0},flaff:{type:Object,required:!0}},setup(s){const e=s,t=l(null),a=l(!0),n=async()=>{a.value=!0;try{if(console.log("fetching image preview",t.value),!t.value)return;const o=await $fetch(`/api/flaff/${e.flaffId}/file/${e.item.uuid}`,{responseType:"blob"}),i=URL.createObjectURL(o);t.value.src=i}catch(r){console.error("error",r)}a.value=!1};return m(()=>{n()}),(r,o)=>{const i=c;return d(),p(i,{"isLoading:isLoading":"",item:e.item,"flaff-id":e.flaffId,"is-mime-readable":!0,mimeType:"image/*",flaff:s.flaff},{default:_(()=>[f("div",w,[v(f("div",y,[f("img",{ref_key:"imagePreview",ref:t,class:"max-w-full max-h-full",alt:"Image Preview"},null,512)],512),[[g,!h(a)]])])]),_:1},8,["item","flaff-id","flaff"])}}});export{I as default};
